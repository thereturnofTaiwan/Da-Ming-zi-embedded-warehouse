# 简易PLSR指令实现
## 任务要求
- 制定待实现的PLSR指令规格
- 基于ucos2设计PLSR指令
- 使用一种通信方式能够监控和实时修改PLSR的频率，能够查看反馈位置（即已发送的脉冲个数）。
- PLSR指令测试


注：
- 需要书写规格书、方案书、测试大纲

## 时间要求

2周

## 验收标准

#### 最低标准

- 可按要求发送指定频率脉冲，且脉冲数也可设置。
- 可配置多段不同数量以及频率的脉冲。
- 可指定任意输出端口。
- 频率可支持到1Hz~100KHz。
- 反馈位置准确。
- 支持多种脉冲发送出发模式：
    - 当前端发送完成后，立即发送下一段脉冲。
    - 当前段发送完成后，等待外部输入信号（X端子有输入），发送下一段脉冲。
    - 当前段发送脉冲时，如收到外部输入信号，立即发送下一段脉冲。
    - 当前段发送完成后延时等待设定时间，时间到达后发送下一段脉冲。
    - 当前段发送脉冲时同时开启计时，时间达到后，立即触发下一段脉冲发送。


#### 提高部分

- 脉冲个数可支持到1~2^31个。
- 支持直线型加减速。
- 支持S型加减速。
- PLSR的相关配置参数可以掉电保持。

## 任务器材
|      器材      | 数量 |
| -------------- | --- |
| XDM-60T10-E  | 1台  |
| ST-LINK	     | 1台  |
| 电源线         | 1根  |
| XVP线	   | 1根  |
| USB转串	| 1个 |

## 硬件信息
- 芯片型号：STM32F407ZG，晶振12MHz。
- 引脚信息

|  芯片引脚  | 实际作用 |
| --------- | ------- |
| I0        | PA0  |
| I1        | PA1  |
| I2        | PG8     |
| I3        | PB4     |
| I4        | PB5     |
| I5        | PG12    |
| I6        | PB6     |
| I7        | PB7     |
| I10       | PF10    |
| I11       | PA15    |
| I12       | PB3     |
| I13       | PA14    |
| Q0        | PF6     |
| Q1        | PF8     |
| Q2        | PF7     |
| Q3        | PF9     |
| USART1_TX | PA9     |
| USART1_RX | PA10    |